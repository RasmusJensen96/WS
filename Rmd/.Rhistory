knitr::opts_chunk$set(echo = TRUE)
devtools::install_github("RasmusJensen96/VolatilityModelling")
library(VolatilityModelling)
library(quantmod)
IXIC = getSymbols("^IXIC")
IXIC
IXIC = getSymbols("^IXIC", auto.assign = F)
lr    = diff(log(IXIC$IXIC.Adjusted))*100)[-1]
lr    = (diff(log(IXIC$IXIC.Adjusted))*100)[-1]
nDate = index(IXIC)[-1]
plot(lr)
lr    = as.numeric((diff(log(IXIC$IXIC.Adjusted))*100)[-1])
nDate = index(IXIC)[-1]
plot(lr)
plot(Estimate_GARCH(lr, nDate))
plot(Estimate_GARCH(lr, nDate))
plot(Estimate_GARCH(lr^2, nDate))
plot(Estimate_GARCH(lr, nDate))
plot(Estimate_GARCH(lr[1:1200], nDate[1:1200]))
fit$Name = "NASDAQ Composite"
fit = Estimate_GARCH(lr[1:1200], nDate[1:1200])
fit$Name = "NASDAQ Composite"
plot(fit)
restart()
knitr::opts_chunk$set(echo = TRUE)
devtools::install_github("RasmusJensen96/VolatilityModelling")
library(VolatilityModelling)
library(quantmod)
IXIC  = getSymbols("^IXIC", auto.assign = F)
lr    = as.numeric((diff(log(IXIC$IXIC.Adjusted))*100)[-1])
nDate = index(IXIC)[-1]
fit = Estimate_GARCH(lr[1:1200], nDate[1:1200])
fit$Name = "NASDAQ Composite"
plot(fit)
IXIC  = getSymbols("^IXIC", auto.assign = F, from = "2007-01-01", to = "2011-01-01")
lr    = as.numeric((diff(log(IXIC$IXIC.Adjusted))*100)[-1])
nDate = index(IXIC)[-1]
fit = Estimate_GARCH(lr, nDate)
fit$Name = "NASDAQ Composite"
plot(fit)
fit = Estimate_Gamma_GAS(lr, nDate)
fit = Estimate_Gamma_GAS(lr, nDate, 500)
fit = Estimate_Gamma_GAS(lr^2, nDate, 100)
fit$Name = "NASDAQ Composite"
plot(fit)
fit = Estimate_Gamma_GAS((lr/100)^2, nDate, 100)
fit$Name = "NASDAQ Composite"
plot(fit)
fit = Estimate_GARCH(lr, nDate)
plot(fit)
fit1 = Estimate_Gamma_GAS((lr/100)^2, nDate, 100)
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered)) + geom_line(aes(x = nDate, y = fit1$Filtered*100))
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered)) + geom_line(aes(x = nDate, y = fit1$Filtered))
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered)) + geom_line(aes(x = nDate, y = fit1$Filtered*10000))
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered)) + geom_line(aes(x = nDate, y = fit1$Filtered*10000)) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*10000, col = "GAS")) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*1000, col = "GAS")) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*10000, col = "GAS")) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered/100, col = "GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered, col = "GAS")) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered/100, col = "GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100, col = "GAS")) + labs(x = "Date", y = "Conditional Volatility") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered/100, col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*1000, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "G-GARCH")) + geom_line(aes(x = nDate, y = sqrt(fit1$Filtered), col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "G-GARCH")) + geom_line(aes(x = nDate, y = (fit1$Filtered)^2, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = (fit1$Filtered), col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*10000, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*1000, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered*100^2, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered^2, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = (fit1$Filtered/100)^2, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = (fit1$Filtered*100)^2, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
fit1 = Estimate_Gamma_GAS(abs(lr), nDate, 100)
fit1$Name = "NASDAQ Composite"
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = sqrt(fit$Filtered), col = "G-GARCH")) + geom_line(aes(x = nDate, y = sqrt(fit1$Filtered), col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
ggplot() + geom_line(aes(x = nDate, y = fit$Filtered, col = "G-GARCH")) + geom_line(aes(x = nDate, y = fit1$Filtered, col = "Gamma-GAS")) + labs(x = "Date", y = "Conditional Volatility", col = "Model") + theme_bw()
fit1 = Estimate_Gamma_GAS(lr, nDate, 100)
fit1 = Estimate_Gamma_GAS(IXIC$IXIC.Adjusted, nDate, 100)
fit1 = Estimate_Gamma_GAS(as.numeric(IXIC$IXIC.Adjusted), index(IXIC), 100)
fit1$Name = "NASDAQ Composite"
plot(fit1)
VIX = getSymbols("^VIX", auto.assign = FALSE, from = "2010−01−01" , to = "2019−01−01")
VIX = getSymbols("^VIX", auto.assign = FALSE, from = "2010−01−01" , to = "2019−01−01")
VIX = getSymbols("^VIX", auto.assign = FALSE, from = "2010−01−01" , to = "2019−01−01")
VIX = getSymbols("ˆVIX", auto.assign = FALSE, from = "2010−01−01" , to = "2019−01−01")
VIX = getSymbols("ˆVIX", auto.assign = FALSE,from = "2007-01-01", to = "2011-01-01")
VIX = getSymbols("^VIX", auto.assign = FALSE,from = "2007-01-01", to = "2011-01-01")
VIXDat = index(VIX); VIX = as.numeric(VIX$VIX.Adjusted)
fit1 = Estimate_Gamma_GAS(VIX, VIXDat, 100)
fit1$Name = "VIX-volatility index"
plot(fit1)
ggplot() + geom_point(aes(x =  VIXDat, y = VIX, col = "Observed price")) +
geom_line(aes(x = VIXDat, y = fit1$Filtered, col = "Conditional Mean")) + labs(x = "Date", title = "GAS-Gamma fit", subtitle = "Series: VIX Volatility Index", y = "VIX adjusted") + theme_bw()
fit1 = Estimate_Gamma_GAS(VIX, VIXDat, 100)
fit1 = Estimate_Gamma_GAS(VIX, VIXDat, 100)
fit1$Name = "VIX-volatility index"
ggplot() + geom_point(aes(x =  VIXDat, y = VIX, col = "Observed price")) +
geom_line(aes(x = VIXDat, y = fit1$Filtered, col = "Conditional Mean")) + labs(x = "Date", title = "GAS-Gamma fit", subtitle = "Series: VIX Volatility Index", y = "VIX adjusted", col = " ") + theme_bw()
ggplot() + geom_histogram(fit1$Observations-fit1$Filtered)) + theme_bw()
ggplot() + geom_histogram(fit1$Observations-fit1$Filtered) + theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered)) + theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.35,0)) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.35,0), fill = rgb(0,0.25,0)) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0)) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 15) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 5) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 50) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 3) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 0.5) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
ggplot() + geom_histogram(aes(fit1$Observations-fit1$Filtered), color = rgb(0,0.25,0), fill = rgb(0,0.35,0), binwidth = 0.75) + labs(x = "Prediction error", y = "Realizations", title = "Prediction error histogram", subtitle = "Series: VIX Volatility Index")+ theme_bw()
mean(fit1$Observations-fit1$Filtered)
